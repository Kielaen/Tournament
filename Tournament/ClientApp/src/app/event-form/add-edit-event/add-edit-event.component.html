<form name="eventForm" (ngSubmit)="onSubmit()" #eventForm="ngForm">


  <div class="form-group row">
    <label class="col-sm-4 col-form-label">Tournament</label>
    <div class="col-sm-8">
      <select class="form-control" name="FK_TournamentID" required [(ngModel)]="model.FK_TournamentID" ngModel #FK_TournamentID="ngModel">
        <option>---Select---</option>
        <option *ngFor="let t of TournamentsList" value="{{t.tournamentID}}">
          {{t.tournamentName}}
        </option>
      </select>
      <div class="alert alert-danger" *ngIf="FK_TournamentID.touched && !FK_TournamentID.valid">
        Tournament is required
      </div>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-sm-4 col-form-label">Event Name</label>
    <div class="col-sm-8">
      <input type="text" class="form-control" maxlength="100" [(ngModel)]="model.EventName" name="EventName" ngModel #EventName="ngModel"
             placeholder="Enter Event Name" required />
      <div class="alert alert-danger" *ngIf="EventName.touched && !EventName.valid">
        <div *ngIf="EventName.errors.required"> Event name is required</div>
        <div *ngIf="EventName.errors.maxlength"> Event name must be max 100 characters</div>

      </div>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-sm-4 col-form-label">Event Number</label>
    <div class="col-sm-8">
      <input type="text" class="form-control" pattern="\d+" required [(ngModel)]="model.EventNumber" name="EventNumber" ngModel #EventNumber="ngModel"
             placeholder="Enter Event Number" />
      <div class="alert alert-danger" *ngIf="EventNumber.touched && !EventNumber.valid">
        <div *ngIf="EventNumber.errors.required"> Event number is required</div>
        <div *ngIf="EventNumber.errors.pattern"> Event number must be postive numbers only</div>

      </div>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-sm-4 col-form-label">Event Date and Time</label>
    <div class="col-sm-8">
      <input type="datetime-local" class="form-control" required [(ngModel)]="model.EventDateTime" name="EventDateTime" ngModel #EventDateTime="ngModel"
             placeholder="Enter Event Date and Time" />
      <div class="alert alert-danger" *ngIf="EventDateTime.touched && !EventDateTime.valid">
        <div *ngIf="EventDateTime.errors.required"> Event Date is required</div>

      </div>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-sm-4 col-form-label">Event End Date and Time</label>
    <div class="col-sm-8">
      <input type="datetime-local" class="form-control" required [(ngModel)]="model.EventEndDateTime" name="EventEndDateTime" ngModel #EventEndDateTime="ngModel"
             placeholder="Enter Event End Date and Time" />
      <div class="alert alert-danger" *ngIf="EventEndDateTime.touched && !EventEndDateTime.valid">
        <div *ngIf="EventEndDateTime.errors.required"> Event End Date is required</div>
      </div>
    </div>
    </div>
 
  <div class="form-group row">
    <label class="col-sm-4 col-form-label">Auto Close at End Time</label> 
    <div class="col-sm-8">
      <select class="form-control" [(ngModel)]="model.AutoClose" required name="AutoClose" ngModel #AutoClose="ngModel">
        <option value="true">Yes</option>
        <option value="false">No</option>
      </select>
      <div class="alert alert-danger" *ngIf="AutoClose.touched && !AutoClose.valid">
        <div *ngIf="AutoClose.errors.required"> Auto close option is required</div>
      </div>
    </div>
  </div>
  <button type="submit" [disabled]="!eventForm.form.valid" (click)="addEvent()" *ngIf="eve.EventID == 0" class="btn btn-primary">
    Add
  </button>
  <button type="submit" [disabled]="!eventForm.form.valid" (click)="updateEvent(eve.eventID)" *ngIf="eve.EventID != 0" class="btn btn-primary">
    Update
  </button>
</form>
